# 🎮 HACKER'S BASE - Development Status

> 마지막 업데이트: 2024-12-17 (v2.6)

---

## 📍 맵 구조 (확정)

```
                    ┌─────────────┐
                    │   [BOSS]    │  ← 보스방 (최종)
                    │  Stage 5    │
                    └──────┬──────┘
                           │
            ┌──────────────┼──────────────┐
            │              │              │
      ┌─────┴─────┐        │        ┌─────┴─────┐
      │ [Stage 3] │        │        │ [Stage 4] │  ← 상단 스테이지
      └─────┬─────┘        │        └─────┬─────┘
            │              │              │
            └──────────────┼──────────────┘
                           │
                    ┌──────┴──────┐
                    │  [FARMING]  │  ← 파밍존 (점령 불가)
                    │   Zone      │
                    └──────┬──────┘
                           │
            ┌──────────────┼──────────────┐
            │              │              │
      ┌─────┴─────┐        │        ┌─────┴─────┐
      │ [Stage 1] │        │        │ [Stage 2] │  ← 하단 스테이지
      └─────┬─────┘        │        └─────┬─────┘
            │              │              │
            └──────────────┼──────────────┘
                           │
                    ┌──────┴──────┐
                    │ [SAFE ZONE] │  ← 안전영역 (시작점)
                    │   Home      │
                    └─────────────┘
```

### 스테이지 정보

| ID | 이름 | 타입 | 설명 |
|----|------|------|------|
| 0 | Safe Zone | 안전 | 시작점, 페이지 없음, 적 거의 없음 |
| 1 | Stage 1 | 점령 | 하단 좌측 |
| 2 | Stage 2 | 점령 | 하단 우측 |
| 3 | Farming Zone | 파밍 | 점령 불가, 자원 획득 |
| 4 | Stage 3 | 점령 | 상단 좌측 |
| 5 | Stage 4 | 점령 | 상단 우측 |
| 6 | Boss Room | 보스 | 최종 보스 |

---

## ✅ 완료된 기능

### 핵심 시스템
- [x] 디펜스 모드 기본 구조
- [x] 테트리스 모드 (장비 획득용)
- [x] 터미널 UI 시스템
- [x] PWA 지원 (오프라인, 설치)

### 디펜스 게임
- [x] 코어 + 쉴드 시스템
- [x] 쉴드 ON/OFF 토글 (내구도 관리)
- [x] 적 생성 및 AI
- [x] 포탑 자동 사격
- [x] 아군 바이러스 (파란색)
- [x] 페이지(웨이브) 시스템 (1~12)
- [x] 점령 버튼 (12페이지 후)

### UI/UX
- [x] 모바일 반응형 레이아웃
- [x] 터치 컨트롤
- [x] 상단 UI (DATA, PAGE/SAFE ZONE)
- [x] 쉴드 버튼 (체력 표시)
- [x] 코어 체력바 삭제
- [x] 터미널 커서 숨김

### 안전영역
- [x] 시작 시 안전영역으로 시작
- [x] "SAFE ZONE" 표시
- [x] 적 느린 생성 (8초마다)
- [x] 페이지 진행 없음

---

## 🚧 진행 중

### 맵/스테이지 시스템 ✅ 기본 구현 완료
- [x] 맵 데이터 구조 설계 (StageManager.js)
- [x] `/map` 터미널 명령어
- [x] 맵 UI (스테이지 선택 화면)
- [x] 스테이지 이동 로직
- [x] 스테이지별 설정 적용 (spawnRate, hasPages)
- [x] 점령 상태 저장/로드
- [ ] 파밍존 특수 로직
- [ ] 보스방 특수 로직

---

## 📋 향후 계획

### Phase 1: 맵 시스템 (현재)
- [ ] `/map` 터미널 명령어
- [ ] 맵 UI 렌더링
- [ ] 스테이지 이동 로직
- [ ] 점령 상태 저장/로드

### Phase 2: 스테이지 차별화
- [ ] 스테이지별 적 종류/생김새
- [ ] 스테이지별 배경/색상
- [ ] 보스 AI 설계
- [ ] 파밍존 특수 보상

### Phase 3: 장비 시스템
- [ ] 장비 데이터 구조
- [ ] 장비 인벤토리 UI
- [ ] 장비 효과 적용
- [ ] 테트리스 보상으로 장비 획득

### Phase 4: 영구 강화
- [ ] Reputation 시스템 확장
- [ ] 영구 업그레이드 트리
- [ ] 진행도 저장

### Phase 5: 밸런싱 & 폴리싱
- [ ] 난이도 조정
- [ ] 시각 효과 개선
- [ ] 사운드 추가
- [ ] 튜토리얼 재설계

---

## 🎯 핵심 게임 루프

```
1. 안전영역에서 시작
2. 터미널에서 /map 명령어로 맵 열기
3. 스테이지 선택하여 이동
4. 디펜스 모드로 12페이지 생존
5. 점령 성공 시 해당 스테이지 확보
6. 점령한 스테이지는 자동 자원 생성
7. 보안 침입 시 테트리스 방어전 (장비 획득)
8. 최종 목표: 보스방 점령
```

---

## 🔧 기술 스택

- **Frontend**: Vanilla JS (ES6 Modules)
- **3D Engine**: Three.js (테트리스용)
- **Styling**: CSS3 (반응형)
- **Storage**: localStorage
- **PWA**: Service Worker + Manifest

---

## 📝 메모

- 적들은 보스방에서 플레이어 영역 방향으로 이동
- 점령한 스테이지는 아군 바이러스 주둔
- 인접 스테이지 2개 점령 시 아군 바이러스 레벨업
- 파밍존은 점령 불가, 자원 획득 목적

---

*이 문서는 개발 진행에 따라 지속적으로 업데이트됩니다.*

