# ðŸ•µï¸â€â™‚ï¸ HACKER'S BASE: Shield Stage Breach Tetris
> **Version**: 8.8  
> **Concept**: Stage-based Defense + Breach-triggered Tetris Defense + Territory Occupation  
> **Tech Stack**: Vanilla JS, Three.js, HTML5 Canvas, PWA

---

## 1. ê²Œìž„ ê°œìš” (Game Overview)
í”Œë ˆì´ì–´ëŠ” ì‚¬ì´ë²„ ê³µê°„ì˜ **í•´ì»¤**ê°€ ë˜ì–´ ì—¬ëŸ¬ **ìŠ¤í…Œì´ì§€(ì„¹í„°)**ë¥¼ ì ë ¹í•´ ë‚˜ê°€ë©°, ìµœì¢… ëª©í‘œì¸ **ë³´ìŠ¤ ì½”ì–´(Core Nexus)**ë¥¼ ì •ë³µí•˜ëŠ” ê²ƒì´ ëª©í‘œìž…ë‹ˆë‹¤. ê° ìŠ¤í…Œì´ì§€ì—ì„œ ì  ë°”ì´ëŸ¬ìŠ¤ë“¤ì˜ ê³µê²©ì„ ë§‰ì•„ë‚´ê³ , ìµœëŒ€ íŽ˜ì´ì§€ë¥¼ ìƒì¡´í•œ ë’¤ **í…ŒíŠ¸ë¦¬ìŠ¤ ë°©ì–´ì „**ì„ í†µí•´ ìŠ¤í…Œì´ì§€ë¥¼ ì ë ¹í•©ë‹ˆë‹¤.

---

## 2. ê²Œìž„ ëª¨ë“œ ë° í•µì‹¬ ë©”ì»¤ë‹ˆì¦˜

### ðŸ›¡ï¸ A. ë””íŽœìŠ¤ ëª¨ë“œ (Defense Mode - Main)
ê²Œìž„ì˜ ê¸°ë³¸ ëŒ€ê¸° í™”ë©´ì´ìž ë©”ì¸ ë°©ì–´ ëª¨ë“œìž…ë‹ˆë‹¤.

*   **ì‹œì **: Top-down 2D View (Canvas)
*   **ëª©í‘œ**: ì¤‘ì•™ì˜ **CORE** ì²´ë ¥(HP)ì´ 0ì´ ë˜ì§€ ì•Šë„ë¡ ì‚¬ìˆ˜.
*   **ì£¼ìš” ìš”ì†Œ**:
    1.  **CORE (ê¸°ì§€)**:
        *   í™”ë©´ ì¤‘ì•™ì— ìœ„ì¹˜. HP 100ìœ¼ë¡œ ì‹œìž‘.
        *   íŒŒê´´ ì‹œ **SYSTEM CRITICAL FAILURE**ì™€ í•¨ê»˜ ê²Œìž„ ì˜¤ë²„.
    2.  **TURRET (í¬íƒ‘)**:
        *   CORE ì£¼ë³€ì„ íšŒì „í•˜ë©° ì ì„ ìžë™ ì¡°ì¤€ ë° ì‚¬ê²©.
        *   ì ì´ ì—†ìœ¼ë©´ 360ë„ ì‹œê³„ë°©í–¥ìœ¼ë¡œ ìžë™ íšŒì „.
        *   **ìˆ˜ë™ ë°œì‚¬**: í´ë¦­/í„°ì¹˜/ìŠ¤íŽ˜ì´ìŠ¤ë°”ë¡œ ì¶”ê°€ ë°œì‚¬ ê°€ëŠ¥.
        *   íƒ„í™˜ì€ **ëžœë¤ ASCII ë¬¸ìž**ë¡œ í‘œì‹œ (ì´ˆë¡ìƒ‰).
    3.  **ENEMY (ë°”ì´ëŸ¬ìŠ¤)**:
        *   í™”ë©´ ë°–ì—ì„œ ìƒì„±ë˜ì–´ COREë¥¼ í–¥í•´ ëŒì§„.
        *   ì¶©ëŒ ì‹œ COREì— ë°ë¯¸ì§€ë¥¼ ìž…íž˜.
        *   í”¼ê²©/ì‚¬ë§ ì‹œ **ê¸€ë¦¬ì¹˜ íŒŒí‹°í´** íš¨ê³¼ (RGB ë¶„ë¦¬, í”Œë¦¬ì»¤).
    4.  **ALLIED VIRUS (ì•„êµ° ë°”ì´ëŸ¬ìŠ¤)**:
        *   íŒŒëž€ìƒ‰ ì›í˜•, ì ì—ê²Œ ëª¸í†µë°•ì¹˜ê¸° ê³µê²©.
        *   ì‚¬ë§ ì‹œ 2ì´ˆ í›„ ìžë™ ë¦¬ìŠ¤í°.
        *   ì ë ¹ëœ ìŠ¤í…Œì´ì§€: 10ë§ˆë¦¬ ìœ ì§€.
    5.  **SHIELD SYSTEM (í•µì‹¬ ì „ëžµ)**:
        *   **ACTIVE**: íŒŒëž€ìƒ‰ ì—­ìž¥. ì  íŠ•ê²¨ëƒ„. CORE ë¬´ì .
        *   **OFF**: ì—­ìž¥ í•´ì œ. ìžì›(Data) íšë“ ê°€ëŠ¥. í”¼ê²© ìœ„í—˜.
        *   **CHARGING**: ì¼œëŠ” ì¤‘ (2ì´ˆ). ì ì„  ê°€ì† íšŒì „.
        *   **DISCHARGING**: ë„ëŠ” ì¤‘ (1ì´ˆ). ì ì„  ì „í™˜.
        *   **BROKEN**: ë‚´êµ¬ë„ 0. 5ì´ˆ ìˆ˜ë¦¬ í›„ ìž¬ì¶©ì „.
        *   **ìƒ‰ìƒ ê·¸ë¼ë°ì´ì…˜**: HP 100%=íŒŒëž€ìƒ‰, 1%=ë¹¨ê°„ìƒ‰.

### ðŸ§± B. ë§ˆì´ë‹/ì ë ¹ ëª¨ë“œ (Tetris Mode)
ìŠ¤í…Œì´ì§€ ì ë ¹ ì‹œ ë°œë™í•˜ëŠ” í…ŒíŠ¸ë¦¬ìŠ¤ ë°©ì–´ì „ìž…ë‹ˆë‹¤.

*   **ì‹œì **: 3D Cylinder View (Three.js) - ì›í†µí˜• í…ŒíŠ¸ë¦¬ìŠ¤
*   **ì§„ìž… ì¡°ê±´**: ìµœëŒ€ íŽ˜ì´ì§€ ë„ë‹¬ í›„ `>>> CONQUER THIS SECTOR <<<` ì„ íƒ
*   **ëª©í‘œ**: 3ì¤„ í´ë¦¬ì–´ + ê°•í™” íŽ˜ì´ì§€ 3ê°œ ìƒì¡´
*   **íŠ¹ì§•**:
    *   ì ë ¹ ì¤‘ ì‹¤ë“œ ì‚¬ìš© ë¶ˆê°€ (íŒŒê´´ ì• ë‹ˆë©”ì´ì…˜).
    *   ë¯¸ë‹ˆ ë””íŽœìŠ¤ íŒ¨ë„ë¡œ ë°©ì–´ ìƒí™© í™•ì¸.
    *   í…ŒíŠ¸ë¦¬ìŠ¤ í´ë¦¬ì–´ í›„ ê°•í™” íŽ˜ì´ì§€ ìƒì¡´ í•„ìš”.

---

## 3. ìŠ¤í…Œì´ì§€/ë§µ ì‹œìŠ¤í…œ

### ðŸ“ ë§µ êµ¬ì¡°

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   [BOSS]    â”‚  â† ë³´ìŠ¤ë°© (ìµœì¢…)
                    â”‚ Core Nexus  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚              â”‚              â”‚
      â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”        â”‚        â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
      â”‚  Sector   â”‚        â”‚        â”‚  Sector   â”‚  â† ìƒë‹¨ ìŠ¤í…Œì´ì§€
      â”‚   Gamma   â”‚        â”‚        â”‚   Delta   â”‚
      â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â”‚        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
            â”‚              â”‚              â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                    â”‚  [FARMING]  â”‚  â† íŒŒë°ì¡´ (ì ë ¹ ë¶ˆê°€)
                    â”‚    Zone     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚              â”‚              â”‚
      â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”        â”‚        â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
      â”‚  Sector   â”‚        â”‚        â”‚  Sector   â”‚  â† í•˜ë‹¨ ìŠ¤í…Œì´ì§€
      â”‚   Alpha   â”‚        â”‚        â”‚   Beta    â”‚
      â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â”‚        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
            â”‚              â”‚              â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                    â”‚ [SAFE ZONE] â”‚  â† ì•ˆì „ì˜ì—­ (ì‹œìž‘ì )
                    â”‚    Home     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ìŠ¤í…Œì´ì§€ ì •ë³´

| ID | ì´ë¦„ | íƒ€ìž… | íŽ˜ì´ì§€ | ì„¤ëª… |
|----|------|------|--------|------|
| 0 | Safe Zone | ì•ˆì „ | ì—†ìŒ | ì‹œìž‘ì , ì  ê±°ì˜ ì—†ìŒ |
| 1 | Sector Alpha | ì ë ¹ | 5 | í•˜ë‹¨ ì¢Œì¸¡, ì‰¬ì›€ |
| 2 | Sector Beta | ì ë ¹ | 5 | í•˜ë‹¨ ìš°ì¸¡, ì‰¬ì›€ |
| 3 | Farming Zone | íŒŒë° | ì—†ìŒ | ì ë ¹ ë¶ˆê°€, ìžì› íšë“ |
| 4 | Sector Gamma | ì ë ¹ | 8 | ìƒë‹¨ ì¢Œì¸¡, ë³´í†µ |
| 5 | Sector Delta | ì ë ¹ | 8 | ìƒë‹¨ ìš°ì¸¡, ë³´í†µ |
| 6 | Core Nexus | ë³´ìŠ¤ | 12 | ìµœì¢… ë³´ìŠ¤ |

### ì ë ¹ ì‹œìŠ¤í…œ
- ìµœëŒ€ íŽ˜ì´ì§€ ìƒì¡´ â†’ `âˆž READY` í‘œì‹œ
- `>>> CONQUER THIS SECTOR <<<` ì„ íƒ
- í…ŒíŠ¸ë¦¬ìŠ¤ 3ì¤„ í´ë¦¬ì–´ + ê°•í™” íŽ˜ì´ì§€ 3ê°œ ìƒì¡´
- ì„±ê³µ ì‹œ: ðŸš© ê¹ƒë°œ + â­ ë³„ ëª¨ì–‘ ë°©ì–´ë§‰ + ì•„êµ° 10ë§ˆë¦¬

---

## 4. ì¡°ìž‘ ë°©ë²• (Controls)

### ðŸ’» PC
*   **ë””íŽœìŠ¤ ëª¨ë“œ**:
    *   ë§ˆìš°ìŠ¤ í´ë¦­: íƒ„í™˜ ë°œì‚¬ (ì  ì—†ìœ¼ë©´ í˜„ìž¬ í¬íƒ‘ ë°©í–¥)
    *   ìŠ¤íŽ˜ì´ìŠ¤ë°”: íƒ„í™˜ ë°œì‚¬ (ì—°ì‚¬ ê°€ëŠ¥)
    *   UI í´ë¦­: SHIELD í† ê¸€, ì„ íƒì§€ ì„ íƒ
*   **ë§ˆì´ë‹ ëª¨ë“œ (í…ŒíŠ¸ë¦¬ìŠ¤)**:
    *   `â†` / `â†’`: ë¸”ë¡ ì¢Œìš° ì´ë™
    *   `â†‘`: ë¸”ë¡ íšŒì „
    *   `â†“`: ì†Œí”„íŠ¸ ë“œë¡­
    *   `Space`: í•˜ë“œ ë“œë¡­
    *   `Enter`: í„°ë¯¸ë„ ìž…ë ¥

### ðŸ“± Mobile (Touch)
*   **ë””íŽœìŠ¤ ëª¨ë“œ**:
    *   í™”ë©´ í„°ì¹˜: íƒ„í™˜ ë°œì‚¬ (ë©€í‹°í„°ì¹˜ ì§€ì›)
    *   SHIELD ë²„íŠ¼: ON/OFF í† ê¸€
    *   ìž…ë ¥ì°½ ì§ì ‘ í„°ì¹˜: í‚¤ë³´ë“œ ì—´ë¦¼
*   **ë§ˆì´ë‹ ëª¨ë“œ**:
    *   ê°€ìƒ ë²„íŠ¼: ì¢Œ/ìš°/ë“œë¡­

---

## 5. í„°ë¯¸ë„ ëª…ë ¹ì–´

| ëª…ë ¹ì–´ | ì„¤ëª… |
|--------|------|
| `/map` | ë§µ ì—´ê¸° (ìŠ¤í…Œì´ì§€ ì„ íƒ) |
| `/inventory` | ì¸ë²¤í† ë¦¬/ìž¥ë¹„ ì—´ê¸° |
| `>>> CONQUER THIS SECTOR <<<` | ì ë ¹ ì‹œìž‘ (ìµœëŒ€ íŽ˜ì´ì§€ ë„ë‹¬ ì‹œ) |

---

## 6. ê¸°ìˆ  ì•„í‚¤í…ì²˜ (Technical Architecture)

### ðŸ“‚ íŒŒì¼ êµ¬ì¡°
```
js/modules/
â”œâ”€â”€ GameManager.js      # ê²Œìž„ ì „ì²´ ê´€ë¦¬, ëª¨ë“œ ì „í™˜
â”œâ”€â”€ DefenseGame.js      # ë””íŽœìŠ¤ ëª¨ë“œ (2D Canvas)
â”œâ”€â”€ TetrisGame.js       # í…ŒíŠ¸ë¦¬ìŠ¤ ëª¨ë“œ (Three.js)
â”œâ”€â”€ TerminalUI.js       # í„°ë¯¸ë„ UI, íƒ€ì´í•‘ íš¨ê³¼
â”œâ”€â”€ StageManager.js     # ë§µ/ìŠ¤í…Œì´ì§€ ê´€ë¦¬
â”œâ”€â”€ InventoryManager.js # ì¸ë²¤í† ë¦¬ ê´€ë¦¬
â”œâ”€â”€ EquipmentManager.js # ìž¥ë¹„ ê´€ë¦¬
â”œâ”€â”€ ConquestManager.js  # ì ë ¹ ê´€ë¦¬
â””â”€â”€ PerkManager.js      # í½ ê´€ë¦¬
```

### ðŸ§± ë ˆì´ì–´ êµ¬ì¡° (Z-Index)

| Layer | Z-Index | ì„¤ëª… |
|-------|---------|------|
| `#game-container` | 0 | í…ŒíŠ¸ë¦¬ìŠ¤ (Three.js) |
| `defense-canvas` | 50 | ë””íŽœìŠ¤ (2D Canvas) |
| `#defense-ui` | 90 | ë””íŽœìŠ¤ UI (ì‰´ë“œ ë²„íŠ¼) |
| `#terminal-layer` | 100 | í„°ë¯¸ë„ (ë°°ê²½ íˆ¬ëª…, pointer-events: none) |
| `crt-overlay` | 9999 | CRT ìŠ¤ìº”ë¼ì¸ íš¨ê³¼ |

### ðŸ›¡ï¸ ëª¨ë°”ì¼ ì•ˆì •ì„±
- **deltaTime ì œí•œ**: ìµœëŒ€ 100ms (íƒ­ ì „í™˜ í›„ í­ë°œ ë°©ì§€)
- **visibilitychange ê°ì§€**: íƒ­ ë³µê·€ ì‹œ ìƒíƒœ ìžë™ ë³µêµ¬
- **validateGameState**: ë§¤ í”„ë ˆìž„ ìƒíƒœ ìœ íš¨ì„± ê²€ì¦
  - ì½”ì–´ ìœ„ì¹˜/HP ê²€ì¦ ë° ë¦¬ì…‹
  - ì‹¤ë“œ HP ê²€ì¦
  - í™”ë©´ ë°– ì /ë°œì‚¬ì²´ ìžë™ ì œê±°
  - í™”ë©´ ë°– ì•„êµ° ë°”ì´ëŸ¬ìŠ¤ ìž¬ë°°ì¹˜

---

## 7. ì‹¤ë“œ ì‹œê° íš¨ê³¼

### ìƒíƒœë³„ ì• ë‹ˆë©”ì´ì…˜ (ë¶€ë“œëŸ¬ìš´ ë³´ê°„)

| ìƒíƒœ | í…Œë‘ë¦¬ | ì±„ìš°ê¸° | íšŒì „ |
|------|--------|--------|------|
| ACTIVE | ì‹¤ì„ , ë°ìŒ | ë°˜íˆ¬ëª… | ì—†ìŒ (íŽ„ìŠ¤) |
| OFF | ì ì„ , ì—°í•¨ | ì—†ìŒ | ì—†ìŒ |
| DISCHARGING | ì ì„  ì „í™˜ ì¤‘ | ì‚¬ë¼ì§ | ëŠë¦° íšŒì „ |
| CHARGING | ì ì„ â†’ì‹¤ì„  | ë‚˜íƒ€ë‚¨ | ê°€ì† íšŒì „ |
| BROKEN | ì ì„ , íšŒìƒ‰ | ì—†ìŒ | ì² ì»¥ì² ì»¥ |

### HP ê¸°ë°˜ ìƒ‰ìƒ ê·¸ë¼ë°ì´ì…˜
- 100% HP: `rgb(0, 200, 255)` (íŒŒëž€ìƒ‰)
- 50% HP: ì¤‘ê°„ ë³´ë¼ìƒ‰
- 1% HP: `rgb(255, 50, 50)` (ë¹¨ê°„ìƒ‰)

---

## 8. í–¥í›„ ë¡œë“œë§µ (Future Roadmap)
*   **Phase 1**: ìŠ¤í…Œì´ì§€ë³„ ì  ì¢…ë¥˜/ë°°ê²½
*   **Phase 2**: ìž¥ë¹„ íš¨ê³¼ ì ìš©
*   **Phase 3**: ì˜êµ¬ ì—…ê·¸ë ˆì´ë“œ íŠ¸ë¦¬
*   **Phase 4**: ë³´ìŠ¤ AI, ì‚¬ìš´ë“œ, íŠœí† ë¦¬ì–¼
